# Тестирование страхового ПО (Insurance)

Страховые компании в значительной степени полагаются на программное обеспечение для ведения своего бизнеса. Программные системы помогают им заниматься различными видами страховой деятельности, такими как разработка стандартных форм полисов, обработка процесса выставления счетов, управление данными клиентов, предоставление качественных услуг клиенту, координация между филиалами и так далее.

В страховой компании есть много ветвей , которые требуют тестирования:

* Системы администрирования полисов (Policy Administration Systems);
* Системы управления страховыми требованиями (Claim Management Systems);
* Системы управления распределением (Distribution Management Systems);
* Системы управления инвестициями (Investment Management Systems);
* Сторонние системы администрирования (Third party Administration Systems);
* Решения по управлению рисками (Risk Management Solutions);
* Регулирование и соответствие (Regulatory and Compliance);
* Актуарные системы (Оценка и ценообразование) (Actuarial Systems (Valuation & Pricing)).

**Что тестировать в страховании?**

Сектор страхования представляет собой сеть небольших подразделений, которые прямо или косвенно занимаются обработкой страховых требований. Для бесперебойного функционирования страховой компании необходимо, чтобы каждое из этих подразделений было тщательно проверено для достижения желаемого результата.

Тестирование включает в себя:

* Колл-центр (**Call Center**):
  * Интеграционное тестирование IVR (IVR Integration testing);
  * Маршрутизация и назначение вызовов (Call routing and assignment);
  * Безопасность и доступ (Security and access);
  * Рефлексивные вопросы (Reflexive Questions).
* Политика обслуживания (**Policy Serving**):
  * Тестирование жизненного цикла политики (Policy life cycle testing);
  * Изменения в финансовой и нефинансовой политике (Financial and Non-financial policy changes);
  * Прекращение действия политики и восстановление (Policy lapse and Re-instatement);
  * Оповещения о страховых выплатах (Premium due alerts);
  * Оценка NPV/NAV (Valuation of NPV/NAV).
* Претензии (**Claims**):
  * Сортировка и уступка требований (Claims triage and assignment);
  * Тестирование жизненного цикла претензий (Testing claims life cycle);
  * Учет требований / резервирование (Claims accounting/reserving);
  * EDI / обмен сообщениями от третьих лиц (Third party EDI/messaging).
* Прямые переходы (**Direct channel**):
  * Мобильный доступ (Mobile access);
  * Кросс-браузерность / кроссплатформенность (Cross browser/cross platform accessibility);
  * Производительность приложения (Application performance);
  * Удобство использования приложения (Usability of application).
* Отчеты / BI (**Reports/BI**):
  * Соблюдение нормативных требований (Behaving to regulatory requirements);
  * Генерация качественных данных для отчетности (Generate quality data for reporting);
  * Создание массовых данных для сводных отчетов (Create bulk data for roll-up reports);
  * Тестирование полей на основе формул в отчетах (Testing formula based fields in reports).
* Андеррайтинг (**Underwriting**):
  * Качество андеррайтинга (Underwriting quality);
  * Ручная и прямая обработка (Manual and Straight through processing);
  * Сложные бизнес-правила (Complex business rules);
  * Рейтинг эффективности (Rating efficiency);
  * Управление требованиями (Vendor Interfacing) (Requirements Management)
* Интеграция (**Integration**):
  * Интеграция данных (Data integration);
  * Комплексная интеграция интерфейса (Complex interface integration);
  * Форматы источника / назначения (Source/Destination formats);
  * Производственный интерфейс (Production like interface);
  * Эффективность пулла/пуша веб-сервиса (Web service pull/push efficiency).
* Новый бизнес (**New Business**):
  * Проверить комбинации коэффициентов (Validate rates-factor combinations);
  * Расписания и запуски заданий (Batch job schedules and runs);
  * Ввод в эксплуатацию расчетов урегулирований (Commissioning calculations settlements);
  * Быстрое и подробное назначение цен (Quick and detailed quote);
  * Иллюстрация преимущества (Benefit illustration);
  * Валидация суммарной выгоды (Benefit summary validation).

**Особенности тестирования страховых приложений**

**Удобство использования**. В 2020 году деятельность большего числа предприятий и организаций была ограничена, а некоторых даже приостановлена. Эти изменения не обошли стороной и страховой бизнес. Однако сохранить и даже увеличить свою долю на рынке смогли только те компании, продукты которых имели наиболее понятный и приветливый интерфейс.

По итогам 2020 года в десятке лидеров страховых компаний по объему продаж произошли весомые изменения: некоторые компании, занимавшие далеко не первые места, смогли вырваться в ТОП-10. А какие-то наоборот: заняли более низкие позиции в рейтинге, по сравнению с 2019 годом. Данный факт обусловлен резким уходом продаж в онлайн. Немаловажным фактором здесь стало удобство приобретения продукта, не выходя из дома.

К примеру, у “ВТБ Страхование” выручка снизилась примерно в десять раз по сравнению с 2019 годом. Это послужило уходом компании из первой десятки рейтинга. Компания “Сбербанк страхование” также потеряла почти треть выручки относительно 2019 года, и в итоге со второго места в рейтинге опустилась на пятое.

Но есть и примеры компаний, которым повезло больше. Например, “СОГАЗу” в 2020 году удалось увеличить выручку почти в 1,5 раза, что позволило ей сохранить первое место. Общий объем страховых премий компании составил 287 млрд рублей, а темпы прироста оказались одними из самых высоких на рынке (+47,8%, четвертое место в ТОП-10). Благодаря таким показателям, “СОГАЗ” занимает первое место с большим отрывом от других страховых компаний.

На втором месте - компания “АльфаСтрахование”. Их премии составили 115 млрд рублей. Кстати, в 2019 году “АльфаСтрахование” занимала третье место. Третьей компанией по объему собранных премий стала “РЕСО-Гарантия” (была на пятом месте в 2019). Ее результат составил 108 млрд рублей.

**Интеграция с другими сервисами**. Это особенно актуально для таких продуктов, как электронное страхование КАСКО и ОСАГО, так как иногда у сторонних сервисов бывают технические проблемы и сбои. Не исключено также возникновение каких-либо изменений, на которые нужно оперативно отреагировать: например, доработать продукт, протестировать его, выпустить новый релиз и т.п.

Также в случае сбоев на стороне других сервисов необходимо обязательно информировать об этом клиентов. К сожалению, сбои происходят довольно часто, а восстановление данных сервисов не зависит напрямую от страховой компании.

О проблемах интеграций неоднократно говорили и сами страховые компании. В 2020 году о технических проблемах с системой АИС ОСАГО 2.0, в том числе с запросами КБМ, говорили в пресс-службе «Ренессанс страхование». В компания «Тинькофф Страхование» было замечено снижение продаж полисов примерно на 20%, отмечая, что сервис КБМ часто бывает недоступен со стороны РСА.

**Устойчивая работа сервера**. По умолчанию необходимо мониторить нагрузку на сервер, а также то, как он справляется с данной загрузкой, не допускать утечки памяти и т.д. Для компаний, которые реализуют электронные полисы ОСАГО, данный вопрос особенно актуален. Это связано с предусмотренной ответственностью за ограничения в работоспособности сайта, согласно которой суммарная длительность перерыва в работе сайта страховщика не должна превышать 30 минут в сутки. Если же требуется провести плановые технические работы, то страховая компания обязана проводить их в определенные часы, а именно с 22:00 до 8:00 по московскому времени. Также необходимо не менее, чем за сутки до начала работ разместить уведомление на основной странице сайта с указанием даты и времени окончания технических работ.

Исходя из вышесказанного, можно сделать вывод, что стабильность работы сайта/приложения имеет высокий приоритет. Соответственно, помимо мониторинга состояния сервера, желательно проводить и нагрузочное тестирование. Это необходимо для того, чтобы оценить возможности сервера.

Также хотелось бы отметь, что при использовании сложных select-запросов в БД рекомендуется использовать хинт “WITH (nolock)” для избежании блокировки БД.

**Скорость работы при медленном интернете**. Разумеется, каждый пользователь хочет совершить покупку легко, быстро и не задумываясь над каждым шагом. Этот пункт выделен отдельно, так как он относится и к удобству использования, и к работе сервера. А также нужно понимать, что у пользователей не всегда бывает устойчивое и качественное интернет-соединение, поэтому большое количество запросов на сервер могут заметно снизить скорость работы сайта или приложения, вынудив пользователя покинуть страницу или приложение соответственно. Следовательно, нужно уделить особое внимание скорости получения конечной стоимости полиса, так как при медленном соединении и неоптимизированных запросах сервера пользователь может столкнуться с ошибкой сервера: 504 “Gateway Timeout”.

Оптимальная скорость загрузки веб-страницы - 2 секунды. В соответствии со статистикой, если скорость загрузки увеличивается хотя бы на 200 мс, количество посещений сайта снижается на треть в последующие полтора месяца. При увеличении до 400 мс посещаемость снижается более, чем на половину.

**Персональные данные**. Разумеется, для покупки любого страхового продукта необходимо указывать персональные данные. Необходимо получить не только согласие на обработку персональных данных, но и обеспечить их сохранность. Тестирование уязвимостей играет здесь важную роль.

Пропущенные баги, связанные с согласием на обработку персональных данных, могут обойтись очень дорого. Если информация о персональных данных будет обрабатываться без согласия пользователя, то штраф может составить до 18 млн руб. (ч. 9 ст. 13.11 КоАП РФ).

**Ценообразование**. Наверное, самое интересное и сложное, с чем могут столкнуться аналитики и тестировщики на проекте страхования - это тарификатор. Важно обращать внимание на следующие факторы:

* правильность требований к формулам, значениям коэффициентов;
* правильность использования формул, значений и коэффициентов;
* правильное использование версий формул, значений и коэффициентов;
* соблюдение законодательного регулирования по имеющимся значениям;
* правильность округления. Это стоит учитывать и в самих формулах, и при загрузке/вводе в БД. Нужно понимать, что даже незначительное округление может сильно повлиять на стоимость страхового продукта.

**Печатные формы**.

На практике есть случаи, когда люди, купившие электронные полисы КАСКО или ОСАГО, не получили их на почту и обращались в техподдержку страховых компаний.

На что стоит обратить внимание, тестируя печатные формы:

* Печатные формы должны скачиваться и приходить на почту без ошибок и задержек по времени, с правильными названиями и в полном объеме: полисы, памятки, чеки и т.д.
* Шаблон печатной формы должен соответствовать законодательству.
* Информация в печатных формах должна соответствовать тем данным, которые указывал и видел пользователь на сайте или в приложении.
* Текст должен размещаться в установленных границах.
* Если использовалось шифрование документов, то этот момент обязательно проверяется.

Пролонгация и внесение изменений. Отдельно хотелось бы отметить пункт про продление страховых полисов, а также внесение изменений в них. Во-первых, у юзера могут меняться значения коэффициентов, например, в зависимости от возраста и стажа или попадания в ЧС. Соответственно, стоимость полиса может заметно измениться, и не всегда в пользу пользователя. Во-вторых, не всегда интеграционные сервисы позволяют продлить полис или внести изменения в него.

Ну и, в целом, у многих страховых компаний на данных момент эта функциональность является “ахиллесовой пятой”. А ведь правильная интеграция с другими сервисами, например, РСА, и как следствие, безошибочное продление полисов КАСКО и ОСАГО, позволяет удержать прежних клиентов, а, значит, укрепить позиции на рынке.

**Примеры тест-кейсов**:

* Проверить правила страховых требований;
* Претензия может относиться к максимальному и минимальному платежу;
* Данные точно передаются во все подсистемы, включая учетные записи и отчетность;
* Претензии могут быть обработаны по всем каналам, например через Интернет, мобильные телефоны, звонки и т. д.;
* Тест на 100% охват и точность расчетов, определяющих ставки страховых взносов;
* Формула для расчета дивидендов и выплаченных сумм дает правильное значение;
* Стоимость выкупа рассчитывается в соответствии с требованиями полиса;
* Проверка фидуциарных реквизитов и требований бухгалтерского учета;
* Протестируйте сложные сценарии на предмет прекращения и возобновления полиса;
* Проверка различных условий значений суммы сохранности страхования;
* Тестовые сценарии прекращения действия полиса;
* Учетная запись главной книги ведет себя так же, как и при согласовании с вспомогательной книгой;
* Тестовый расчет чистых обязательств для оценки;
* Тестирование условий для продления срока страхования;
* Проверка полиса для варианта суммы сохранности страхования;
* Различные условия страхования ведут себя как ожидается;
* Размер премии соответствует плану продукта;
* Протестируйте автоматическую систему обмена сообщениями, чтобы информировать клиентов о новых продуктах;
* Проверяйте все данные, введенные пользователями по мере прохождения рабочего процесса, чтобы инициировать предупреждения, соответствие требованиям, уведомления и другие события рабочего процесса;
* Убедитесь, что шаблон страхового документа поддерживает формат документа MS-Word;
* Тестовая система для автоматического создания счета и отправки его клиенту по электронной почте.

Источники:

* [Особенности тестирования программных продуктов для страховых компаний](https://quality-lab.ru/blog/%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8-%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D1%8B/)
* [Testing Insurance Domain Applications with Sample Test Cases](https://www.guru99.com/testing-insurance-applications-with-sample-testcases.html)

Доп. материал:

* [Тестирование системы расчета КАСКО](https://quality-lab.ru/blog/casco-insurance-testing/)
